
CODE SEGMENT

ASSUME DS:CODE,CS:CODE,ES:CODE,SS:CODE

PA      EQU 01H 
PB      EQU 05H
PC      EQU 09H
CO      EQU 0DH

ORG 0000H
MOV AL,10001000B
OUT CO,AL


START:
   IN AL,PC
   AND AL,10000000B
   CMP AL,00H
   JNZ UNCLK_WISE

CLK_WISE:
   MOV DL,8D
   MOV AL ,00000001B
UP:
   OUT PA, AL
   CALL DELAY
   ROL AL ,1
   DEC DL
   JNZ UP

JMP START


UNCLK_WISE:
   MOV DL,8D
   MOV AL ,0010000B

DOWN:
   OUT PA,AL
   CALL DELAY
   ROR AL ,1
   DEC DL
   JNZ DOWN

JMP START




DELAY:
MOV CX,58824D
L1:
LOOP L1
RET
CODE ENDS
END

